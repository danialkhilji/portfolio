---
interface Props {
  text: string;
  badgeUrl?: string;
  certificateUrl?: string;
  badgeAlt?: string;
  textSize?: string;
}

const {
  text,
  badgeUrl,
  certificateUrl,
  badgeAlt,
  textSize = "text-lg md:text-xl",
} = Astro.props;

const base = import.meta.env.BASE_URL;
const resolveUrl = (url?: string) =>
  url?.startsWith("/") ? `${base}${url.slice(1)}` : url;
---

<p
  class:list={[
    textSize,
    "text-brand-dark mt-1 flex items-center justify-center gap-2",
  ]}
>
  {text}
  {
    badgeUrl && certificateUrl && (
      <a
        href={resolveUrl(certificateUrl)}
        target="_blank"
        rel="noopener noreferrer"
        aria-label={`View ${text} certificate`}
        class="transition-transform hover:scale-110 duration-200"
      >
        <img
          src={resolveUrl(badgeUrl)}
          alt={badgeAlt || `${text} badge`}
          class="w-8 h-8 inline-block"
          loading="lazy"
        />
      </a>
    )
  }
</p>
